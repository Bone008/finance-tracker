<h2 mat-dialog-title>{{editMode==='edit' ? 'Edit' : 'Add'}} transaction</h2>

<form #editForm="ngForm" (ngSubmit)="onSubmit()" fxLayout="column">
  <mat-dialog-content fxLayout="column">
    <mat-tab-group
        [selectedIndex]="isNegative ? 0 : 1"
        (selectedTabChange)="isNegative = ($event.index === 0)">
      <mat-tab label="Expense"></mat-tab>
      <mat-tab label="Income"></mat-tab>
    </mat-tab-group>

    <mat-form-field>
      <input
          matInput
          type="date"
          name="date"
          [ngModel]="getDate() | date:'yyyy-MM-dd'"
          (ngModelChange)="setDate($event)"
          placeholder="Date">
    </mat-form-field>
    <mat-form-field class="amount-field" [class.negative]="isNegative">
      <input
          matInput
          type="number"
          name="amount"
          min="0"
          step="0.01"
          [ngModel]="getAbsoluteAmount()"
          (ngModelChange)="setAmount($event)"
          [ngModelOptions]="{updateOn: 'blur'}"
          placeholder="Amount">
      <span matSuffix>&nbsp;â‚¬</span>
    </mat-form-field>
    <mat-form-field>
      <input
          matInput
          name="who"
          [(ngModel)]="singleData.who"
          placeholder="Who">
    </mat-form-field>
    <mat-form-field>
      <input
          matInput
          name="reasonForTransfer"
          [(ngModel)]="singleData.reason"
          placeholder="Reason for transfer">
    </mat-form-field>
    <mat-form-field>
      <textarea
          matInput
          name="comment"
          [(ngModel)]="singleData.comment"
          placeholder="Comment">
      </textarea>
    </mat-form-field>
    <mat-checkbox
        name="isCash"
        [(ngModel)]="singleData.isCash">
      Cash
    </mat-checkbox>
    <mat-checkbox
        name="isInternal"
        [(ngModel)]="transaction.isInternal">
      Internal
    </mat-checkbox>
    <mat-checkbox
        name="isAmountEstimate"
        [(ngModel)]="singleData.amount.isEstimate">
      Estimate
    </mat-checkbox>
  </mat-dialog-content>
  
  <mat-dialog-actions fxLayout="row" fxLayoutAlign="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-button type="submit">Save</button>
  </mat-dialog-actions>
</form>