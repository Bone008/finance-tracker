<mat-card class="main-card">
  <mat-card-title fxLayout="row" fxLayoutGap="10px">
    Labels
  </mat-card-title>
</mat-card>

<div class="main-card">
  <mat-expansion-panel *ngFor="let label of allLabels$ | async">
    <mat-expansion-panel-header>
      <mat-panel-title fxFlex="50">{{label.name}}</mat-panel-title>
      <mat-panel-description>{{label.numTransactions}} transactions</mat-panel-description>
    </mat-expansion-panel-header>

    <ng-template matExpansionPanelContent>
      <div fxLayout="column">
        <mat-form-field>
          <div class="optional-color-container">
            <mat-checkbox
                class="checkbox-prefix"
                [checked]="isDisplayColorEnabled(label.name)"
                (change)="setDisplayColorEnabled(label.name, $event.checked)">
            </mat-checkbox>
          <input
              matInput
              name="displayColor"
              type="color"
              placeholder="Display color"
              [disabled]="!isDisplayColorEnabled(label.name)"
              [(ngModel)]="getConfigForLabel(label.name).displayColor">
            </div>
        </mat-form-field>
        <app-billing-info
            unknownPeriodLabel="Default"
            [(billing)]="getConfigForLabel(label.name).billing">
        </app-billing-info>
      </div>
    </ng-template>
  </mat-expansion-panel>
</div>
